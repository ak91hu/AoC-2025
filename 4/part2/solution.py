input_str = """@..@@.@@.@@@@@....@.@@.....@@@@.@.@@@@@.@.@.@@@@@@@@...@@..@..@@.@@@..@.@@@@.@@@@.@..@@....@.@.@.@@@...@@@.@@...@@..@@@..@@.@@.@..@.@@@.
@@@..@@@.@@@@@@@@@@..@@.@@@.@@@@@@@@@..@.@@@@....@.@.@@@@.@@@@.@@.@@.@@@.@.@@@.@@...@@@@.@@@@@@@@@@@.@@@@@@@@@@.@@@@@@@.@@@@..@@@@@...@.
@.@@@@..@@@@@....@@@@@@..@@@.@..@.@.@@@.@@..@.@.@@@.@@.@@@@@@@.@@@..@@@@@..@.@@.@@.@.@.@@.@.@@.@@@@@@@@.@@@@@@.@.@@.@@.@@@@..@.@@@@@...@
@@@@@@@.@.@@@.@.@@@.@.@@@.@@.@@...@@@@@.@.@.@@@.....@@.@@@@.@@@.@.@.@@@@@@.@@@@@.@@@@.@..@@.@@@@@.@@.@@@@.@.@@@@@@@.@@@@.@@@@@@.@.@@@.@.
@.@@@@.@@@.@@@..@...@@@@..@..@..@@@@....@@@@.@@@@@@@.@.@@@.@@@@..@@@@..@@...@.@@@@@@@@@@@@@@@.....@@...@@@.@.@@...@@@..@@.@@@@@@@@..@@..
@@@@.@..@@@@..@@...@.@..@@@.@@..@@@@@...@@@.@@@.@....@.@.@.@@..@@..@..@@.@@@...@@@...@@@@....@@@..@..@....@@......@@..@@..@@@@@@..@@.@@.
.@@@@.@@@@.@@.@@@.@.@@@@@@.@..@@..@@@@.@@.@@..@.@@.@..@@@@@@.@@.@@@..@.@@....@@@@@.@@..@..@.@@@@.@....@@@.@....@.@@@@@@@@@@.@.@@@@...@@@
@.@@...@.@@@.@.@.@@.@@@@@..@.@@@@@.@@.@@@.@..@@@@..@.@@@..@@@@.@@.@.@@.@@.@@.@.@.@@@@@@@@@.@@@@.@@@@@@.@...@..@..@@.@@.@@@@@@@@@.@.@..@@
@..@.@.@@.@@@@@@@@@@@@..@@..@@.@@@..@@@.@..@@...@.@.@@.@@..@..@@@@.@@@.@@@@.@..@.@..@@@@@@.@.@@.@@@@.@..@@@@@.@@@..@@....@@@.@@.@.@@@...
@@.@@@@.@..@@.@.@.@@.@@@..@@..@@@@@..@@.@.@@@@@..@..@.....@...@@@@@@@@@@..@@@@@@@@.@@@.@..@@@@@@@.@@......@@@...@...@...@@@.@.@.@@@@@@@@
@@@@@....@@@@@.@@.@@@@@@..@.@.@...@@@@@.@.@@@@........@.@.@@@@.@..@@@@..@@@@.@@.@@@.@...@@@@@@..@@@@@@.@@@@@@.@.@..@@@@...@@.@@...@..@.@
.@@@@@@@@@.@..@@@..@@@@@@@@.....@..@@@@@@.@...@.@@@@@.@.@@@.@.@@@@.@.@.@.@..@.@@@.@@@@..@.@..@@@@@@@@@@@@..@@@.@.@@@@@@@@@.@..@.@.@@@@@@
@@@@@@@@...@@.@@.@@@@..@@@.@@@@@@@@@@.@@@..@@@.@@@..@@..@..@@@@.@.@.@@@@.@@....@@@@.@.@.@@@@@@.@@@@..@@@.@@@.@@@..@@@@.....@@.@..@.@@.@@
@.@.@@@@....@....@@@@@@@.@@@.@.@@@@@.@.@..@@@.@@@@@.@@@@..@@.....@@@@.@@.@@@..@.@@...@@@.@@.@@@@.@.@@@.@@...@@@.@@@..@..@@@..@@.@@..@@@.
@.@@@@@@...@.@@@@@@@..@..@@.@@.@.@..@@.@.@@..@.@@@.@@@@@@.@@@@.@...@@@@@.@@@.@.@@@@..@@@..@@.@@@.@@.@@@..@@@.@.@@@@@@@..@@.@@.@@@.@.@@..
@@....@@@..@@@@@.@@.@@@@@.@.@@.@@@@@@@@@.@@@@@@..@@@@.@@.@.@@...@@..@.@@@@@@@@@@@@@@@@..@@@@@@...@@@@@@@@@..@@@@@@@@@..@@@@.@@.@.@.@@@@.
..@.@@@@.@@@@.@..@@@@...@@.@@...@@..@@@@@@.@@....@@..@@@@@@.@@@@@..@..@@@.@@....@@.@@@..@.@..@.@.@@@@.@@@@@.@@...@@@@.@@..@@@@@@.@@@.@..
@.@...@@@@.....@@@@..@@.@@@@@@@.@...@@@.@@@@@@.@.@@@@.@@@...@.@@@@@@@..@@@@@@.@@@@@@@.@.@@...@@@@@.@..@@@@@..@@@.@@@@...@@@@@.@.@.@...@@
.@@@@@..@@@@@@@.@@@.@.@.@.@@@....@@@@@@.@@@@@.@..@.@@@@.@@..@@@@@.@@@@..@.@@@@@@.@@@@@@....@@@@.@@@@@@@@@..@.@..@@@@.@@@@@@...@@@@..@@@@
@@.@@@@@.@@.@@@@@@.@@@.@.@@..@@@@.@@.@@@.....@.@@.@@@@@@.@@@...@@@@@.@@@.@@..@@@@@@@@@@@@@.@@.@....@@@.@.@@@@@@@@.@.@.@@.@@@@.@@@@..@@..
@.@@@..@@.@.@.@@@@@..@@@@.@....@.@@@.@@@.@@.@.@@.@@.@@.@@..@@@.@@@@..@@@.@@.@@@@@@@@@@.@.@..@@@@@@.@@@@@@@.@..@.@@@.@@.@@.@..@.@@@.@.@@@
@@.@.@@@@@@.@....@@@@@@@.@@.@@@@@@@@@@.@@.@.@@@..@@@@@@..@@..@.@.@@@@..@@@.@@..@@@@@@@@@...@@.@@@@@.@@@@@..@..@@.....@@.@@@@..@@@.@@@..@
@@@@.@.@@.@@@@@@@@@..@.@@@@..@.@@..@@@@@@@.@@.@..@@@@@...@@@@@@@@@.@.@.@@@@@.@@...@@.@.....@@@.@@@@@.@.@@.@@.@.@@@..@.@..@@@@.@@@...@@@@
@@@...@.@@@.@@@.@@@@@@....@@.@@.@.@@@@.@@@@@.@@@@.@.@.@@.@@....@.@@@@..@@......@@.@@@@@@@@@@..@@.@@.@@@@.@@@.@@@..@.@.@..@@..@.@@@..@..@
@.@@@@@@.@@@.@@..@.@@@@@.@@@@@...@..@..@@@@@.@..@@@.@..@@@@.@@.@@@@@@.@@.@@@.@@.@.@..@...@@@@@.@@@@@@@@@...@@.@.@...@...@@...@..@@@.@..@
.@@@..@@....@...@@.@..@....@@@@@@.@.@...@@.@@@.@@@.@.@.@@@...@.@@@.@@@.@@.@@@..@@@..@....@.@@@@.@@@@.@.@.@@..@..@..@@...@.@.....@@@@@@@@
.@@..@@@.@@...@@@@.@@@@@@.@@@@@@@.@@.@@.@@@@@@....@@.@.@.@@@@.@.@.@...@@@@@@.@.@@.@@@.@..@@@@.@@@@@.@..@@.@.@..@.@.@@..@@@@.@.@@@@.@.@.@
@@@.@@@@@@..@..@@.@.@@@..@@@@@@.@@@.@.@@@@@@@@@@@@@@.@.@@@.@@.@@@@@.@.@.@....@.@@@@..@..@@.@@@@@@@@@@@.@@@@...@..@.@@@...@@@.@@@..@..@@@
@@.@@@@@@..@@.@@@@@..@@@@@@@@.@@@@@@@@..@.@@@@.@@@@.@@@@@.@@@@@@@.@@..@@@@@@@@@@@.@@@@...@.@..@.@..@.@..@@@@...@@@@@@.@@@.@@@@@.@.@@@@.@
@.@@@...@@.@@.@@@.@@@.@@...@.@@@@@@..@@.@@@.@@@.@.@@@@@..@@@@@@.@.@.@.@@@@@..@@..@@.@@.@..@.@@.@@@..@...@@@..@@...@@..@@@..@@@@@@@@@@.@@
@..@..@@.....@@..@.@.@@@@@.@@.@@.@@@@@@@@..@..@@.@..@@....@@.@@@..@@@@.@@...@@@@@.@@@.@@..@.@@@.@@@@.@@..@@@@@..@.@...@.@@@@.@.....@@@@@
@.@@@.@@@@@@.@@..@.@@@@@@@..@@.@@.@...@.@@....@@....@.@@@@@@@@.@@@@.@@@@@@@..@@@@.@@@@@.@@.@.@@@.@@@@@.@.@@@@.@...@@.@.@..@..@@@@@@.@..@
.@..@..@.@.@@@@@@.@@@.@@@@@@..@.@.@@@.@@@@@@@@.@@@@.@@@.@@@.@.@@.@..@.@@.@@@@@@@.@...@@@@.@@@@@@@.@.@.@@@.@@@...@@@.@@@@@@@@.@...@.@@@@@
.@@@@.@@@.@.@@@@.@...@@@@@..@@.@.@@@@.@@@@@@@..@.@..@@@@.@@@@@@@.@@..@@@@..@@.@.@.@@@@@@@@@@.@@.@@@@@.@@@@@@.@..@.@...@@@@.@..@@@..@@@.@
@....@..@.@@.@..@...@..@@@.@@@.@..@@....@@@.@@.@@@@@@.@@..@@@.@@...@@@@@.@.@@@..@..@.@@.@@@.@@@.@@@.@@@@@@@@@.@@@@@@@.@@@.@.@.@@@..@@@.@
@@@@@@...@@@@@..@@.@@@@@@@.@@.@@@@.@@@@@@@@@@....@@@@@@@.@@@.@@.....@@@.@@@@..@..@@@@..@@..@@@@.@.@@..@.@@.@..@...@@@@@@.@.@..@@.@@..@.@
@@@@@@@.@@@@@@@@@..@@.@.@.@@@.@@@@@.@@@.@@@.@.@@@.@..@.@@@.@.@...@@@@@.@@@.@@..@..@.@@@@@.@@@@@.@.@@.@@...@.@@@@@....@@@..@.@.@@.@@.@@@@
@@@@....@.@@@@.@@..@@@@@..@@.@@@.@@@...@@@.@@@@@....@@@@.@@..@.@.@.@.@@.@...@@@@@@@.@..@...@@...@@@@@@..@.@@@.@.@@....@@@.@@@@@@.@.@@.@@
....@.@@@..@.@@@..@@@@@..@...@.@@@.@@@@@@@..@@@@.@.@...@@@..@@@@..@@..@.@.@@@.@.@@..@.@..@@.@@.@@.@.@.@.@..@@@@@@.@@@@.@.@@@@@..@@@@@@.@
..@.@@@..@...@@...@..@@.@.@@@@.@@.@@..@.@@@@..@@...@@@.@@.@.@@@@@@@.@@.@@.@@..@.@@@@.@@.@@@@..@@@..@@@@@@@...@@..@@@@..@@.@@@.@@@..@@.@.
@@@@@.@.@@.....@@@.@@@@@@@.@@@@@.....@@.@@@.@@.@..@@@@@@@@.@@@.@@.@@.@@@.@@@@@@@@.@.@@.@@@.@@@.@@.@.@@.@@@@.@@..@@@@@@@..@@@.@@@@@.@@@.@
..@.@@@@@.@.@@.@@@@.@@@@@@.@.@...@....@@@@@..@..@@@@.@.@@@.@.@....@@.@@@@@...@@..@@.@@@@.@@@..@.@@@@@@@.@.@.@@@..@@@.@@..@....@..@@@@...
@.@.@@@@.@@..@@.@.@@.@@@@..@@@.@@@.@@@@@@.@@@@@@@.@@.@@@@.@@.@.@.@@@@@..@@@@.@@.@.@@@@...@@@.@.@@.@@@@@@@.@.@@@.@@@@.@@@......@.@@@@.@@@
@..@@@.@@@..@@@..@@@@@@@.@@@@@@.@.@@@@@@.@.@@.@.@...@....@..@@@@@@@@@.@...@@@....@@@@@@@@.@..@@@.@.@.@@.@.@.@@@.@@@@@..@@@.....@.@@.@...
@.@.@.@..@@@..@@....@@..@.@@.@.@@@@.@@@@@.@@.@@.@@@@@@.@.@.@@.@..@.@.@@@@.@@.@.@.@@@@.@.@@..@@@@@..@@@.@....@@.@.@@@@.@...@@@..@@@@.@@..
@.@.@@@.@..@@@@.@.@@..@.@@@@@.@@....@.@@..@..@..@@@@@@.@@.@@@.@..@@@@@@..@.@@.@.@@.@@.@@.@@.@@.@@@@@@@@@@@.@.@@@@@..@@@@@@@.@....@@@...@
@@.@@@@..@@@@@@..@.@@@@@@@@..@..@@@.@.@@@@@..@@@@@.@..@@@@@@@..@.@@@@@@@@...@.@.@@@@..@@@@@@.@@..@@.@@@@@@@.@@@@@..@.@@.@@.@@.@@..@.@.@@
.@@@...@@@@@@@@..@.@@@@@...@.@@@@@@@@@@@.@@@@@@@.@.@@@@@@.@@@@.@@.@@@.@@@@.@@@@@@@@@@@@.@@@@@@@.@@.@.@.@@.@@@@.@.@.@@@@.@@@@@..@@@...@..
@@..@@@@.@@.@@@@@.@.@@.@.@@.@@@@..@@@.@.@.@@@@@@@@@..@@@@@.@@@@.@.@..@@.@@@..@.@.@@@...@@@.@.@..@@@..@@@.@..@@@.@@@@.@@.@@.@@..@.@@@@@@.
.@.@@..@.@@@.@...@@.@@@@@@@@@@@.@@@@@.@@@@@@@@..@@.@.@@@.@@.@.....@@...@@@@@@@.@@@@.@.@@..@@.@@@.@@@@.@@@.@@.@@.@@..@..@.@@.@@@@@.@@@@@.
@@@@.@@@@.@@..@@....@@@@..@.@@.@.@..@.@@@@@..@@@.@@..@.@.@...@....@.@..@@.@..@@.@@@@@@@@.@.@.@.@@@.@@..@@@.@.@@@...@@@@@.@@@@.@..@@@@@@.
...@.@@@@@@@@@@@@@.@@@@@@.@@@@@@@@@@@.@@@@.@.....@@@..@.@@.@@.@@@.@@@@@.@@.@@@.@@...@.@@..@.@@.@@@@@.@@@@@.@@@@.@@@.@@.@@.@@.@..@.@@.@@@
@@...@@@@..@.@..@..@@.@@@.@@.@.@..@@@.@@.@@.@...@.@.@@@..@@@.@@@@.@@.@..@@@.@@@.@@..@@@@@.@@@.@.....@@@@.@@@..@.@@@@@.@.@@@...@@@@@..@..
..@@.@..@@@@...@..@@@.......@@@.@@.@@@.@@@.@@@@.@.@...@@@.@@@@...@@...@@.@@.@@@@@@@@@@.@@@@@...@...@@@@@.@..@.@@@.@@@@@@.@@...@@@..@.@@.
@@@@@...@@.@@.@@.....@@@@...@...@@@@.@@@@@.@@@@.@@@@.@@.@@@..@@@@@@@@.@@@.@@@@..@.@@@@@.@.@.@@..@@.@@@.@@.@@@@@@.....@.@.@.@@...@.@@@@@.
@@..@@@@@@@.@@.@@...@@@@..@@.@.@.@.@@@.@.@...@@..@@@@@@@.@...@@@.@@@@@.@@.@.@@@@.@.@.@.@@.@@@@@@@@@@@.@.@@..@..@...@@..@.@.@.@@@.@@@@@..
.@.@..@@@@@@@@.@..@@@.@@@@..@.@@..@@@@.@@@@...@@..@..@.@@@@...@.@@@@.@..@@.@..@.@@@@@.@@@@.@.@@@@@.@....@.@@@.@@@.@@@@...@.@@@..@....@@@
.@@@@@..@...@@@@@@@@@@@@@@@.@@..@@@..@@@@....@.@@@.@..@@..@@....@@@@...@@@.@.@@@@.@.@@.@....@..@@..@@@.@..@@..@@.@..@@.@.@..@.@@...@@.@@
@@@@@.@@@@.@..@.@@.@@@@@@.@@@@@@@@@@.@@@@.@@@...@@@.@@@@@..@@.@@@..@@@.@@.@@.@@.@@@..@@@@.@@.@@@@.@@@@.@@.@@@.@..@@..@@@..@@@.@..@@@@@@.
......@@@@@@@@@@.@@@@@@@.@@@@@@..@.@.@@@@@@@@@@@@..@@@@.@@@@@@@@@@@@@.@@@@@@@@@@@@.@@@@@.@@....@@..@.@.@..@@...@@.@@@@@@@@@@@@.@...@@@@.
@@@.@.@.@..@@@@.@....@@@.@@@@.@..@@@..@@@@....@@.@@.@@@@.@@@@.@@.@@@@@@@@@.@.@@.@.@.@..@@@..@@@.@..@..@..@.@@@@.@@@@@@...@.@@@@@.@@@.@@@
.@@.@@@@..@.@..@@@.@@@.@...@@@.@@@@.@.@@@@@@.@@@..@@.....@@@@..@.@.@@@@...@@@@@@@...@@@..@@..@@@@@@@@.@@...@@..@@@.@.@@@.@@@.@@@.@..@@@@
@@...@@@@@.@@..@@@..@@@@@.@..@@@@@@.@.@..@.@@@@.@@@@..@@...@..@@@.@@@.@.....@@@@@@@.@...@.@..@.@@...@..@@..@@@.@.@@@.@@@...@@@@.@@.@@.@@
@@@@@.....@.@@.@@@@.@@@@.@@@@@..@@.....@..@@.@@@@.@@@@..@@@.@.@@.@.@@..@.@@@.@.@.@..@@...@@.@@@@@@@.@@@..@@.@@@@@@@.@.@@@@..@..@@.@@.@..
.@@@@...@.@@.@@@..@@@@@.@.@@@@.@....@.@.@@@@.@@@.@@..@@..@@@@.@@.@@@..@....@@..@@@.@@@@@.@@@.@.@.@@...@.@...@@.@@@.@..@@@@@.@..@@@..@.@@
..@.@@@.@@.@@@.@@@@@.@@@@@@.@@@@.@@.@@@.@@@.@..@@..@.@@@.@.@.@@@...@@.@@.@.@@@.@@@.@.@@@@@@@@.@..@@@@@.@..@.@@@@@@@..@@..@.@@.@@@..@.@@@
.@.@@.@@@@@.@@.@@.@@@.....@@@@@@....@@@@@@@@@@@@@..@..@.@@@@@@@.@.@..@..@@.@@.@.@@.@@.@@.@.@..@...@@@.@@@.@..@@...@@@@@..@@@.@.@@@.@..@@
@@@@@.@.@@@..@@@.@@.@..@@@.@@@.@..@@@@@@@.@@.@@@@@@.@@@.@..@@.@@.@@..@@@@....@..@@.@@@@@@@@..@@.@@@.@@....@@@.@@.@@.@.@@@@@@.@.@.@@@..@@
...@@@@..@@@@.@@..@@.@...@..@@@@@..@.@@@..@.@.@@..@...@.@@@.@.@.@@@@@.@@.@.@@@@@@..@@..@.@@@.@.@.@.@@@.@@@@.@.@@@@...@.@@...@@@@@.@..@.@
@.@@@.@@..@@..@.@..@.@@@@@...@@@..@@..@@@@@@@@@@....@.@@@@.@@.@@@@@@@@@@@...@@@@.@@@.@.@@@@@@@@@@@@@@.@@....@@@@@.@...@@.@..@.@.@@@..@@.
@@@@.@@.@@@@@.@.@@@@.@@@.@@@@.@@@@@..@.@@.@...@@........@@@.@@@@@@@@@.@@.@@@@.@@.@@@@@@@....@@@@@@.@...@.@@.@@.@@.@.@@..@@@.@@@.@@@@@@@@
@....@.@.@@@@....@@@@@.@.@@.@@@.@@@@.@..@.@.@.@.@.@@@....@@@@@@.@@@@@..@@@@@.@@@@@@..@@@@@@.@@..@.@.@@.@@....@@.@@@@@@..@@@.@.@...@@...@
@@.@@..@..@.@@@@@@@@..@@@@@.@.@@...@@@@@@..@@@.@@@@.@@@@@@...@.@@@.@@.@@.@@.@@@..@..@.@@.@..@@@.@@@@.@@@@@@@.@@@@@@@@.@.@@.@@@@.....@@@.
.....@@@@..@.@@@.@@.@@@.@.@..@@..@@.@@.@@@@@@@.@@@@@.@.@@@@...@..@..@.@@@@.@@@.@@@.@@@@@@@@@.@@@@.@@@@.@@@@..@.@.@.@@@@@@@@..@@@@..@@@..
@@@@@..@@@@.@@@@@@@@..@@@.@...@@@@@@@@@..@..@....@@@@.@.@@@.@.@.@.@.@@@@@@.@@@.@.@@.@@@@@@@.@@@@.@@.@@@.@@@..@@@.@....@......@@@@@@.@.@@
....@.@@@@..@@@@@@@@@..@@@@.@@@.@@.@.@@@@@@@@@.@@@@@@....@.@@@@.@.@@..@.@.@@@@.@..@@@.@.@@..@.@@@@.@@@@@@@@@.@@...@@..@@@@.@.@@.@@.@@@@@
.@@.@@@..@@.@@@@..@.@@@@@@.@.@...@@@@...@@@.@.@..@@@@@.@@@@.@@@.@@@.@@@@@@@..@@@@.@@@.@@@@@@@@@@@@@.@.@@@.@@.....@@.@@@.@@.@@@@@@@.@@.@@
@.@..@@@@@@@@@..@@@...@.@...@@@@.@@@@..@@@@@@@@@.@@@@@@@@.@..@@@...@@@@..@@@@@.@....@@@..@@@@.@@@.@@@@.@@@.@@@@@.@.@@@@@@..@@@@..@@....@
...@..@@@.@.@@@@.@.@@@.@..@.@@..@.@@...@@..@@@@.@...@@.@@..@@@@@@.@...@@@....@@.@@@@.@.@.@@@.@.@.@.@.@@@.@@@@@@..@@@@@...@@...@.@@@.@@@.
.@.@...@@@.@@@...@@..@@@.@@@@@@@@@..@....@@@.@@.@@@..@@@@@.@@@.@.@.@@@.@@.@@.@...@@@@...@@@..@@@@@@@.@.@@.@@@@@@@.@@..@.@.@@@@@.....@@@@
@.@.@@..@.@....@.@@@@.@.@@@.@@@@.@@.@.@..@@.@@@@@@@@.@.@.@..@@@@.@@...@..@@@@.@@@...@.@@..@@..@.@..@..@@@..@@@@.@@@@@..@.@@@@@...@@.@@@@
@@@...@@@.@.@..@...@@@@..@@@@@..@@@@@@.@@@....@@.@.@@.@.@@@.@@@@.@..@@.....@@@@@.@@@@@@.@.@@@@.@.@.@@@@@@@@@@@@@@@@@@@@...@@.@@@.@..@..@
@@@@@@..@@@@@@@@..@@@.@.@@@.@@@@@@@....@@....@@..@..@@@@@@.@.@@.@@.@..@@@....@@.@@@.@.@@.@@..@@@@@@.@.@@..@.@@.@.@@..@@@.@@@@@@.@...@@@.
@.@..@@..@@@.@@@@@.@.@.@@@@.@@@.@.@.@@@@@...@@@.@.@@.@.@@.@@...@.@@..@@@@@..@@@.@@@@@.@.@@@@@@@@@.@@.@@@@@@@@@..@@..@.@@@@@@@@@@....@@@@
.@@.@@..@@@.@@@@@....@@@.@@@@@@.......@@..@.@....@@.@@@@@@..@.@@@.@@@@@.@@.@@@@@....@@.@.@..@@@..@.@...@@.@@@.@@@@..@@.@..@.@@@..@@@@@.@
@@@@.@@@.@@.@@@@@@@@@.@.@..@@@.@..@@.@@..@@@.@@.@@@@....@.@@.@.@@.@.@@@@@@@.@@@@@@@@@...@.@.@@@@@@@.@@..@..@@@.@.@@@@@@@@.@.@@.@@@@.@..@
@@@@.@.@@@@@..@@.@@@@@@@@.@@@.@.@.@@@@@.@@@@@@@@@..@@....@..@@@.@.@.@@@@@@.@@@..@@..@@...@@..@@@.@@...@@.@@@.@@@@@@@.@@.@@@@.@@@.@@.@@.@
@......@..@@@@@.@..@.@@@@.@.@@@.@@@@.@.@@@@@@@.@@..@.@@..@.@.@@.@@@.@.@.@@@.@@.@@@@@@....@@@@..@@@@@@...@@@@@@@..@@@@.@@@.@@.@@..@@.@@.@
@@@@@@@@@@@.@...@@@@@@@@@@@@@@@@@@@@@@@@...@@@@@@@@.@.@.@@@@@@@@@@@@@@@.@@@.@..@.@@@.@.@@@@@@@@.@.....@..@@.@@@@@@@@..@@@..@@@@@@@@@@...
.@@.@@.@@.@@@@@.@@@@@@@@@@@@.@@@@@@@.@@@@..@@@...@@@..@@@.@.@@@@@.@.@@@@@@..@@...@@.@.@@@@@@.@@..@..@..@@@.@@..@.@@@@.@@@.@@@@@@....@.@@
@..@....@.@@.@..@@..@@@@.@..@@@.@..@@@..@.@@@..@..@.@.@@@@.@.@.@@@@@@@@@@@@.@@@@@@.@@@.@@@.@.@..@@@.@@@@.@.@@@......@@.@.@@.@@.@..@@...@
@..@@@@@@@..@@@.@@@@@@.@.@@@@@@@..@@@@@@@..@@@@@@.@@.@@.@@.@.@@@@@@.@..@@@@..@.@.@@@..@.@.@.@..@.@.@@..@@.@.@@@@@@.@.@.@@.@.@.@@@@@.@@@@
.@.@...@@@@.@.@@@@@@@..@@.@..@@.@@.@..@@@@.@@@@@@.@...@.@...@@@@@@.@..@@@@..@.@..@.@.@.@@@..@..@..@.@@..@@@@.@@.@@.@@@@@@@..@.@.@@..@.@.
@@...@@@.@@.@@@@@@@@@.@.@@@@.@@..@.@.@.@@.@.@@@@@@@.@.@@@@@@..@@.@.@.@@@.@@@@@@@@@@.@@@@.@@..@@.@@@@@....@@@@@.@@@..@@.@...@@@@@@.@@@.@@
...@...@.@@.@.@@@@@..@@.@@@.@.@@@.@@@@@.@@.@..@.@@.@@@.@@@..@.@@@@@@@@@.@@.@@.@@@.@@@.@@@.@@.@@.@.@@..@.@@@@@@@@.@@@@.@.@..@@.@@@...@.@.
.@....@@@@.@.@@@@@.@@@..@.@..@@@@..@@@..@@@.@@@.@@@..@..@..@@...@@.@@@@@@.@.@@@.@@@@@@@@.@@@@@@@@.@@@@@.@@.@@@..@.@@@@.@.@@.@@@@.@@.@@@.
.......@...@@@@@@@@@@@@..@@@@@@@@@@@@@@.@.@.@..@.@@@@...@.@@@.@@@@...@@.@@@@.@@@@@@@@.@@.@.@.@@@@@..@@.@@@.@@.@@@.@..@..@@@@@@.@@@..@.@.
@@@@.@.@@@@@@...@@..@@@@@@@@@.@@.@@@..@@@@@@..@@@@..@.@..@@.@.@@@@.@..@@.@...@.@@@@@@@@@@@@@.@@.@@@@.@@@...@@.@@@@@.@@.@@@..@@.@@@@@@.@.
@@@.@@@..@@@@@@@@@@@@@.@@@@.@..@@@@@@.@....@@@@@@@.@@@..@@@@..@...@@..@@.@@@@.....@@.@.@@@@@@@@@@..@@@.@@@..@@@@..@@@.@@@@@@@.@@@...@@@@
@@@.@@.@.@@@@@@@@..@.@@..@..@@@..@...@.@@@..@.@@@@@..@@@.@@@@@@@@...@@@@.@@@.@..@@@.@.@@...@@.@@@@@@@.@@@.@@.@.@@@@@@@@.@.@@..@@@@@.@@@.
.@..@.@@@@@..@@@.@..@@@@@.@@@.@@@@@...@.....@@..@@@@.@@@.@.@@@.@.@.@..@@.@@...@@@@.@@@@.@@@.@.@@@@@@.@@@.@..@.@@.@@@@.@.@..@@@@@@@..@.@.
.@@.@@.@..@.@.@@...@@@.@..@..@.@.@@@..@.@@.@@@@@@@.@@@@@@..@@...@.@@@@@@@@@...@@.@@@@.@@@@@@@@@@.@@@.@.@..@@..@.@.@@@@@.@@@@@@@.@@@@.@..
@@@.@.@@@@@.@@..@.@@@@@@.@..@.@@@@..@@@@.@@...@@.@.....@@....@@.@@.@@.@@@@.@..@@.@@@@@.@@..@@@.@@...@@.@@@@@@@@@...@@@..@@@@@@@.@@@@...@
@@@@@@@@@@..@@.@@....@.@..@@...@@@@@@.@@@...@@@@.@@.@.@@.@@@@@.@.@@@@@@..@.@@@.@@@@.@@...@@.@@@.@.@@@..@@.@@@.@@@@@@@.@@@.@.@@@..@@..@@.
@@.@..@@@@..@@.@@@@..@@..@@@@@@@@@.@.@.@.@@@@@.@@@@@@.@.@@@@@.@.@@@@.@@.@....@.@@@@@@@@@@.@@@@......@@@@@.@@@@.@@@@@.@@@@@.@@.@@@@@@@@@@
.@@.@@@@@.@@.@@@@.@.....@@...@..@.@@@@..@@....@..@...@.@@@.@..@..@@@@@@..@@.@...@.@@@.@@...@..@@@@@@@@.@@..@..@@@@@@@@.@@.@@@.@.@@.@@.@@
@@..@..@.@@@.@@.@@@.@@@@..@.@@....@@@@@@.@.@@@@....@@@@.@.@@..@..@..@@@.@@.@...@.@@@@@@.@@@@.@@@@@@@@@@..@..@@.@..@.@@@@@..@@@..@.@@@@.@
@.@@.@@@@.@.@..@@@@@..@.@@.@@@...@@@@.@@.@@@@@...@..@@@@@.@@@@@@@@@@..@@..@@@.@.@@@.@@...@@....@@@.@.@..@.@@.....@@@@@.@@..@@@.@.@.@...@
@..@.@@.@.@@...@@@.@@.@@..@.@@@..@@@.....@@...@@@.@.@@@@@@@@.@@..@@...@@.@@.@@..@@@@.@...@@.@.@@@@...@@@@.@@..@.@@@.@@@@@@..@@@.@@@@.@@@
@.@@@@@@@.@..@@@@@@@@@@@@@@@@.@@@@@..@@..@.@@@@@..@@@@@@@.@.@.@@...@..@@@.@@@@.@@.@.@@...@.@..@.@@.@.@@@...@@@@@@@.@@@@.@@@@.@@@@@.@.@..
@@.@@.@@@@@..@.@.@@@@@@@@@@.@@..@@@.@.@@.@@@.@@@..@@...@.@@@.@.@..@..@@@.@.@@@@@.@@@@@@..@.@@@@@.@.@.@@@.@@.@...@@@.@@@@@@@.@@@.@.@@@@@.
...@@@@@@@.@@..@..@@@@@..@@.@@@@@@@@..@..@@@@.@@@@@.@@@.@@@@...@@.@@.@@@@@@@@..@@@@..@@...@@@@@@.@@...@@@@@@.@@...@@.@@@@@@..@@@..@.@@..
@@...@@@.@@@@.@@@@..@@.@.@@..@.@@@@.@.@@@@@@...@@@.@@..@@.@@@...@@@@.@@.@@@.@@@@@@@..@@@@@@@@.@..@@@@@@@@@@.@..@@.@@@..@.@@.@@@@@@.....@
@@...@@@@@......@@@@.@@@.@@.@.@@..@@@.@.@@@.@@@..@@@...@.@@@@@@@@@.@.@@@.@.@@..@.@@..@.@@@.@@.@@@.@@@@.@@@.@.@@.@@.@.@@.@..@@..@.@@...@.
@@.@@@@@..@@@@.@@@.@@@..@@@..@.@.@@@@@@@@@.@..@@@@@@..@@...@@.....@@@@@@@@.@@@@@.@@@@...@@...@@@@@@@.@.@.@@..@@.@.@@.@@@@.@@@@@@@@.@@@@@
.@@..@@.@@@.@@.@@@@..@.....@@@....@.@@@@@@@.@.@..@@@@@.@.@@.@.@..@..@@@.@.@@...@@@@@....@@.@@@@.@@@@@@@.@..@@.@.@@@@@@.@@@.@@@.@@.@@..@.
@.@.@@@@.....@.@.@@.@.@@@@@@@..@@@@@..@.@@@@@.@.@@@@..@.@@@..@.@@@.@@@@.@@..@@@@.@@.@..@@..@.@@@@@@@@@..@@..@.@@@.@@@@.@@@.@@@@@@@@.@@@@
@.@@@.@.@@..@@...@.@@@.@@@.@@.@.@.@@@@@.@.@@@@@@@@@@@@.@@...@.@.@.@.@...@@@....@.@@@.@@.@@@@@@@..@@.@...@...@.@@@@@@@..@@@.@@@..@@@@@@@@
@@.@.@.@@.@@@.@@@@@.@@.@.@@@@@@@.@@@@@@@.@@.@@@@@.@@@...@@.@@@@.@..@@.@@.@@@@.@@@.@@@.@.@@@@@@@@@..@@@@@@@.@@..@@@.@@.@@@.@@.@@.@@@@@@@@
@...@....@@@@..@.@..@.@..@@@@.@.@@...@.@@@@@.@.@...@@@@@@@@..@.@.@@.@@@.@@.@@@@..@@@.@@@@.@@@@@@@..@@@@.@.@@@@.@.@@@@@@.@@.@.@@.@@@.@@..
.@@@@...@@@@@@....@@@...@.@..@@@@@@@@@@.@.@@@@@..@@@..@...@..@@@.@@.@@@.@@@@..@@@.@@@.@@@@@@.@.@@.@@@.@.@@@@@@.@@@.@@@@@@.@@@@.@@@@.@@@@
@@@@..@@@.@.@..@...@.@@@...@..@....@@@..@@@@@@...@.@@@@@.@@@.@@@...@@@@@@.@.@@@..@@@@@..@@.@.@.@.@.@...@@..@.@...@@@@@.@@@..@@.@@.@@@@..
@@@@.@@@@.@@@.@@@@@@@@@@@@@@@@.@@@@@@@@.@@@.@@..@@@.@@.@@@@@@@@@@@@@.@@@...@......@@@..@@@.@..@@@@@@@.@..@@@@...@@@.@@@@@@@.@@@@@......@
.@@@@.@@@@@@@@.@@.@@@..@@.@@.@@..@..@...@.@@@@@@.@..@@.@.@@@.@@@.@@@@@@@@@@@..@@@..@@@@@@@..@@.@.@.@@@.@.@@.@@..@@@@@@@.@.@.@.@.@@@.@...
.@@.@@@@@@@.@@.@@@@@@..@@@@@.@@@.....@@@@@.@@.@@@@@@@@@@@@@@@@.@@@@@.......@@@@@.@@@@..@@....@@.@@@@@..@@.@@@@.@.@@....@@.@@.@..@@@@@@@.
...@.@@.@.@.@@@@@.@@@..@@@@@.@@@@@@@@@@.@@..@@@@@@@...@..@.@@@@.@@..@@@@@@@@@.@@@@@@@@@@.@.@.@@..@@@@.@..@.@@..@.@@@@@@@@@.@.@@@@@@.@@@@
@@.@@..@@.@.@....@.@...@@@@.@@@@@.@..@....@....@@..@@@@@..@...@..@..@@@...@@.@@..@...@@@...@@..@@@@@.@.@@..@.@@.....@@..@@@@......@@.@@.
@..@@@@@@@@.@.@.....@@.@@@@@@@@@@@.@@..@.@..@.@@@.@@@@@@@@@@@.@.@...@@.@@@@.@...@@@.@..@@@.@..@.@@..@@@.@@@...@@@@@.@@.@@..@.@@.@@@.@.@@
..@@..@.@.@.@..@@.@..@.@.@.@@.@@@@@.@@@@@@@@@@..@@@@@@...@@@@...@.@@.@@@@@.@@@@@.@@.@..@..@@@@@@....@@...@@@@...@@@..@.@..@@@.@@@.@@..@@
.@@@@..@@.@@@@@.@.@@.@@.@@@@@@@.@@@..@..@..@@@.@@@@..@@.@.@@@@@...@@.@@@@@.@@.@@@@@@..@@@@@.@.@.@@@@..@..@...@@@.@..@@@@@@@.@@@.@.@@.@.@
@@@@@@@@.@.@@.@@@.@@..@@@@..@..@@@@@@@.@@...@@@@@..@.@@@@@@.@@@@@@..@@..@@.@@.@@@@...@@.@@@...@@@.@..@@@@.@@@@.@@.@@@@@....@@@@@@.@@@@.@
@@@@@...@.@..@@@..@@@..@@@...@@..@.@@@@.@...@.@@@@.@@@...@..@@.@.@@@@@@@@@@..@@@@.@@@@@.@..@.@@@.@.@.@@.@..@@@@..@@..@@.@@@.@..@@@@@..@.
@@..@.@@@..@@@@..@.@@@@...@...@@@@.@@.@.@@.@@@@@.@@.@.@@@@@.@.@@@@.@@@@.@@.@@.@@@@@@.@.@@@..@.@@@.@@@@@@@@@@@@@@..@@@@@.@@@@@@.@@.@.@.@.
@@@@@.@@@@.@@@..@@.@@.@@@@...@@..@@@.@@@..@@.@..@.@@@.@.@@.@@@@@@.@@@@.@.@@@@@@@@.@@..@@@@@@@@@@..@@@@.@@@@@@@@@@@@@@.@@@.@@@@@...@.@.@@
..@@...@@@..@@@@..@@.@@.@@@@@....@.@.@@@@@@.@@@.@@.@.@@@.@@.@.@.@@@@@@.@@@.@@@@.@.@@@@@.@@...@@.@@...@@.@@..@@@@@@@..@.@.@@@..@@..@@@@.@
@.@@@@@@@@@@@@@@@.@..@@@@@.@@.@@@@.@.@.@..@@@@@@@.@@@.@.@@@@@..@@@@@@@@@@.@@@@@..@@@...@@.@.@.@.@@.@....@@@@@.@...@@.@@.@@@@...@@@.@..@@"""

def solve_part2(input_data):
    # Parse the grid
    grid = [list(line) for line in input_data.split('\n') if line]
    rows = len(grid)
    cols = len(grid[0])
    
    total_removed = 0
    directions = [
        (-1, -1), (-1, 0), (-1, 1),
        (0, -1),           (0, 1),
        (1, -1),  (1, 0),  (1, 1)
    ]
    
    while True:
        to_remove = []
        
        # Identify all rolls to be removed in this step
        for r in range(rows):
            for c in range(cols):
                if grid[r][c] == '@':
                    adjacent_rolls = 0
                    for dr, dc in directions:
                        nr, nc = r + dr, c + dc
                        if 0 <= nr < rows and 0 <= nc < cols:
                            if grid[nr][nc] == '@':
                                adjacent_rolls += 1
                    
                    if adjacent_rolls < 4:
                        to_remove.append((r, c))
        
        if not to_remove:
            break
            
        total_removed += len(to_remove)
        for r, c in to_remove:
            grid[r][c] = '.'
            
    return total_removed

print(solve_part2(input_str))
